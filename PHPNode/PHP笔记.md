# PHP笔记

## PHP规范

### 格式

`<?php     ?>`

### 注释

多行注释：`/*   */`

单行注释：`//`

## 常量和变量

### 变量

#### 格式

代码结束符：`;`

定义变量：`$anme;`

存储int：`$name = 123;`

存储字符串：`$name = 'holle world';`

#### 引用&

`$b = &$a;` `$b`就是`$a`的别名

### 常量

#### 定义关键字

单双引号都行，变量名一般大写，不能重复，后面是内容

```
define('常量名称','内容');
define('常量名称','内容');

define('MY_NAME1','name1');
echo '<br/>';
define("MY_NAME2","name2");
echo MY_NAME1,"<br/>",MY_NAME2;
输出：
	name1
	name2
```

#### 预定义常量

**预定义常量使用的时候不区分大小写**

php规范定义了一些常量

例如：

```
__FUNCTION__
```

##### 魔术常量

**有九个魔术常量它们的值随着它们在代码中的位置改变而改变**

https://www.php.net/manual/zh/language.constants.magic.php

| 名字                   | 说明                                                         |
| :--------------------- | :----------------------------------------------------------- |
| **`__LINE__`**         | 文件中的当前行号。                                           |
| **`__FILE__`**         | 文件的完整路径和文件名。如果用在被包含文件中，则返回被包含的文件名。 |
| **`__DIR__`**          | 文件所在的目录。如果用在被包括文件中，则返回被包括的文件所在的目录。它等价于 `dirname(__FILE__)`。除非是根目录，否则目录中名不包括末尾的斜杠。 |
| **`__FUNCTION__`**     | 当前函数的名称。匿名函数则为 `{closure}`。                   |
| **`__CLASS__`**        | 当前类的名称。类名包括其被声明的作用域（例如 `Foo\Bar`）。当用在 trait 方法中时，__CLASS__ 是调用 trait 方法的类的名字。 |
| **`__TRAIT__`**        | Trait 的名字。Trait 名包括其被声明的作用域（例如 `Foo\Bar`）。 |
| **`__METHOD__`**       | 类的方法名。                                                 |
| **`__NAMESPACE__`**    | 当前命名空间的名称。                                         |
| **`ClassName::class`** | 完整的类名。                                                 |

##### 使用一下

```php
echo __file__;echo '<br/>';
echo __FILE__;echo '<br/>';
echo __line__;echo '<br/>';
echo __LINE__;echo '<br/>';

输出：
D:\phpStudy\WWW\myphp\index.php
D:\phpStudy\WWW\myphp\index.php
133
134
```



### 区别

1. 常量前面没有$
2. 常量只能用define()函数定义
3. 作用域在全局
4. 定义后不能变
5. 常量的值之能是 bool，int，float，string类型

## 运算符

### 算数运算符

`+` `-` `*` `/` `%` `++` `--`

| 列句      | 名称   | 结果               |
| --------- | ------ | ------------------ |
| `-$a`     | 取反   | $a的负值           |
| `$a + $b` | 加     | 和                 |
| `$a - $b` | 减     | 差/商              |
| `$a * $b` | 乘     | 乘积               |
| `$a / $b` | 除     | 获取商，会保留小数 |
| `$a % $b` | 取模   | 获取余数           |
| `++$a`    | 前置++ | 先加加，后使用     |
| `$a++`    | 后置++ | 先使用，后加加     |
| `--$a`    | 前置-- | 先减减，后使用     |
| `$a--`    | 后置-- | 先使用，后减减     |

#### 后置++ 演示

```php
$sum = 10;
echo ++$sum;//11
echo $sum;//11

echo '<br/>';

$sum2 = 10;
echo $sum2++;//10
echo $sum;//11
```

### 字符串运算符

`.`连接运算符

```php
$str1 = "你好";
$str2 = "世界";
echo $str1.$str2;
echo '<br/>';
echo $str1."PHP";
输出：
你好世界
你好PHP
```

### 负值运算符

`=` `+=` `-=` `*=` `/=` `%=` `.=`

说一下`.=`主要用于链接字符串

```php
$str1 = "你好";
$str2 = "世界";
$str1 .= $str2;//你好世界
$str1 += $str2;//0

$str1 = 2;
$str2 = 3;
$str1 .= $str2;//23

$str1 = 2;
$str2 = 3;
$str1 += $str2;//5
```

结论：
    .=用于字符串相加
    .=加**整数**时 会将整数看成 **字符串**

### 比较运算符

等于：`==`

全等： `===`

不等于： `!=` `<>`    (两个符号都是!=的意思)

不全等：`!==` （判断类型和内容，`$a = 11`，`$b = '11'`，也就是a不全等于b，成立

小于：`<`

小于等于：`<=`

大于：`>`

大于等于：`>=`

```php
`===`
值相等，类型也要相等
$num1 = 11;
$num2 = '11';
var_dump((int)$num2);//int(11)
var_dump($num1 == $num2);//bool(true) 自动转换类型，把$num2的字符串转换成了整数
var_dump($num1 === $num2);//bool(false)
```

### 逻辑运算符

与：and 、&&

或：or 、||

非：!

异或：xor (规则 左右不一样就是true)

| 例子       | 名称            | 结果                                                      |
| :--------- | :-------------- | :-------------------------------------------------------- |
| $a and $b  | And（逻辑与）   | **`true`**，如果 $a 和 $b 都为 **`true`**。               |
| $a or $b   | Or（逻辑或）    | **`true`**，如果 $a 或 $b 任一为 **`true`**。             |
| $a xor $b  | Xor（逻辑异或） | **`true`**，如果 $a 或 $b 任一为 **`true`**，但不同时是。 |
| ! $a       | Not（逻辑非）   | **`true`**，如果 $a 不为 **`true`**。                     |
| `$a && $b` | And（逻辑与）   | **`true`**，如果 $a 和 $b 都为 **`true`**。               |
| $a || $b   | Or（逻辑或）    | **`true`**，如果 $a 或 $b 任一为 **`true`**。             |

### 位运算符

| 例子           | 名称                | 结果                                                     |
| :------------- | :------------------ | :------------------------------------------------------- |
| **`$a & $b`**  | And（按位与）       | 将把 $a 和 $b 中都为 1 的位设为 1。                      |
| **`$a | $b`**  | Or（按位或）        | 将把 $a 和 $b 中任何一个为 1 的位设为 1。                |
| **`$a ^ $b`**  | Xor（按位异或）     | 将把 $a 和 $b 中一个为 1 另一个为 0 的位设为 1。         |
| **`~ $a`**     | Not（按位取反）     | 将 $a 中为 0 的位设为 1，反之亦然。                      |
| **`$a << $b`** | Shift left（左移）  | 将 $a 中的位向左移动 $b 次（每一次移动都表示“乘以 2”）。 |
| **`$a >> $b`** | Shift right（右移） | 将 $a 中的位向右移动 $b 次（每一次移动都表示“除以 2”）。 |

### 其他运算符

#### 三元运算符：`？:`

```php
表达式1 ？ 表达式2 ： 表达式3
1成立执行2 ，不成立执行3
```

#### ``

 可以放系统命令 ，涉及到跨平台

```
$str = `ipconfig`;
var_dump($str);

输出：

string(802) " Windows IP 配置 以太网适配器 以太网: 媒体状态 . . . . . . . . . . . . : 媒体已断开连接 连接特定的 DNS 后缀 . . . . . . . : 无线局域网适配器 本地连接* 1: 媒体状态 . . . . . . . . . . . . : 媒体已断开连接 连接特定的 DNS 后缀 . . . . . . . : 无线局域网适配器 本地连接* 2: 媒体状态 . . . . . . . . . . . . : 媒体已断开连接 连接特定的 DNS 后缀 . . . . . . . : 无线局域网适配器 WLAN: 连接特定的 DNS 后缀 . . . . . . . : 本地链接 IPv6 地址. . . . . . . . : fe80::8538:d7f6:846f:8103%20 IPv4 地址 . . . . . . . . . . . . : 192.168.31.198 子网掩码 . . . . . . . . . . . . : 255.255.255.0 默认网关. . . . . . . . . . . . . : 192.168.31.1 以太网适配器 蓝牙网络连接: 媒体状态 . . . . . . . . . . . . : 媒体已断开连接 连接特定的 DNS 后缀 . . . . . . . : "
```

#### 屏蔽错误@

当这个代码出错时，屏蔽掉错误，什么也不打印

```php
打印一个没有的变量
echo @$a;
输出：
    Notice: Undefined variable: a in D:\phpStudy\WWW\myphp\index.php on line 2

echo @$xxx;
echo @$xxx;
输出：
    啥也不输出
```

#### =>

#### ->

#### instanceof

### 运算符的优先级





## 类型

### bool

### int

### float

### string



### 整体输出

```php
//类型
$a1 = true;
$b1 = false;
$a2 = 123;
$a3 = 123.123;
$a4 = 'holle world';
echo '<br/>';
echo 'a1是：',$a1,' 类型是：',var_dump($a1),'<br/>';
echo 'a2是：',$a2,' 类型是：',var_dump($a2),'<br/>';
echo 'a3是：',$a3,' 类型是：',var_dump($a3),'<br/>';
echo 'a4是：',$a4,' 类型是：',var_dump($a4),'<br/>';
echo 'b1是：',$b1,' 类型是：',var_dump($b1),'<br/>';

输出：
a1是： 类型是：bool(true)
a2是：123 类型是：int(123)
a3是：123.123 类型是：float(123.123)
a4是：holle world 类型是：string(11) "holle world"
b1是： 类型是：bool(false)
```

### 数组array



### 对象object



### 资源resource



### NULL



### 强转类型

```php
$aa10 = (int)'ada';
var_dump($aa10);
var_dump((float)$aa10);
$bb10 = (int)$aa10;
var_dump($aa10);
输出：
int(0) float(0) int(0)
```

字符串转整形

```php
$num = '11';
var_dump((int)$num);//int(11)
```



## 关键字

### 输出echo

输出变量：`echo $a;`

多种输出：`echo 'abc','<br/>',123,$a;`



### 输出类型var_dump

```php
$a = 123;
var_dump($a);
输出int
```

### 转义字符\

```php
echo '单引号：\' , 斜杠\\';
输出：
    单引号：'，双引号："，斜杠\,
```

### 引号"" ''

#### 单引号''

不会直接解析 变量，双引号会

```php
$a2 = 123;
echo '$a2';
echo "$a2";
输出：
$a2
123
```

另一种方式给变量加`{}`

```php
echo "这是：$a2","这是：{$a2}";
echo '<br/>';
echo '这是：$a2','这是：{$a2}';
echo '<br/>';
输出：
这是：123这是：123
这是：$a2这是：{$a2}
```



#### 双引号""

单引号双引号 可以嵌套

#### 嵌套

引号可以互相嵌套

```php
echo '她说："你是好人"';
输出：
她说："你是好人"
```

### 定界符<<<

格式：name之能是字母，数字，下划线

```php
<<<name
content（内容）
name；
```



```
$delimiter=<<<aaa
hello world！ 21212_{$a2}_32121"""'''''\
aaa;
echo '<br/>';

var_dump($delimiter);
```

### 销毁变量unset()

```php
$a = 123;
unset($a);
此时$a就是null
```

